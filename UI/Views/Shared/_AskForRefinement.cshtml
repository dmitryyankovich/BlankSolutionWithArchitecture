@model UI.Models.Courses.RefinementVM
    

@using (Ajax.BeginForm("AskForRefinement", "Courses", null, new AjaxOptions {OnSuccess = "closeModal" }, new { id = "answerForm" }))
{
    @Html.HiddenFor(m => m.Id)
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <span id="myModalLabel">Ask for refinement</span>
            </div>
            <div class="modal-body">
                <div class="form-horizontal">
                    <div class="form-group">
                        <label class="col-md-4">Message:</label>
                        <div class="col-md-8">
                            @Html.TextAreaFor(m => m.Text, new { @class = "form-control", @id = "answer-text" })
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" data-dismiss="modal" class="btn btn-default">Close</button>
                    <button class="btn btn-primary" type="submit">Answer</button>
                </div>
            </div>
        </div>
    </div>
}

<script type="text/javascript">
    function closeModal() {
        //$('#AnswerModalContainer').modal('hide');
        //$('#AnswerModalContainer').html('');
        window.location.reload();
    }
</script>